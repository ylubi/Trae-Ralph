# Ralph ä»»åŠ¡ç®¡ç†è§„èŒƒ

ä¸ºäº†æ”¯æŒ Ralph Loop çš„é•¿æ—¶é—´è‡ªä¸»è¿è¡Œï¼Œä»¥åŠå¤šè½®æ¬¡éœ€æ±‚çš„è¿­ä»£å¼€å‘ï¼Œé¡¹ç›®é‡‡ç”¨ **â€œæŒ‡é’ˆ-å®ä¾‹â€** çš„ä»»åŠ¡ç®¡ç†æ¨¡å‹ã€‚

## 1. ä»»åŠ¡çŠ¶æ€æ¶æ„

### 1.1 æŒ‡é’ˆæ–‡ä»¶ (Pointer)
é¡¹ç›®æ ¹ç›®å½•å¿…é¡»åŒ…å«ä¸€ä¸ªåä¸º `RALPH_STATE.md` çš„æ–‡ä»¶ã€‚å®ƒä¸å†å­˜å‚¨å…·ä½“ä»»åŠ¡ï¼Œè€Œæ˜¯ä½œä¸º **â€œå½“å‰æ´»è·ƒè¿­ä»£â€** çš„æŒ‡é’ˆã€‚

> **åˆå§‹åŒ–è§„åˆ™**: å¦‚æœè¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼ŒAgent å¿…é¡»åœ¨é¦–æ¬¡è¿è¡Œæ—¶æ ¹æ®ä¸‹æ–¹çš„æ¨¡æ¿åˆ›å»ºå®ƒã€‚å¦‚æœå­˜åœ¨æ—§ç‰ˆæ ¼å¼æ–‡ä»¶ï¼Œè¯·å°†å…¶é‡å‘½åå¤‡ä»½åå†åˆ›å»ºæ–°ç‰ˆã€‚

**RALPH_STATE.md æ¨¡æ¿**:
```markdown
# Ralph çŠ¶æ€æŒ‡é’ˆ

## ğŸ“ å½“å‰æ´»è·ƒä¸Šä¸‹æ–‡ (Active Context)
- **è¿­ä»£åç§°**: feature-auth
- **è§„åˆ’è·¯å¾„**: docs/planning/feature-auth/
- **ä»»åŠ¡æ–‡ä»¶**: docs/planning/feature-auth/04-ralph-tasks.md
- **ç»éªŒæ–‡ä»¶**: docs/planning/feature-auth/06-learnings.md
- **ä¸Šæ¬¡æ›´æ–°**: 2023-10-27 14:30

## ğŸ“ å…¨å±€å¤‡å¿˜å½• (Global Context)
(æ­¤åŒºåŸŸå·²å¼ƒç”¨ï¼Œè¯·ä½¿ç”¨ `docs/planning/<å½“å‰è¿­ä»£>/06-learnings.md` è®°å½•ç»éªŒ)
- å‚è§: [06-learnings.md](docs/planning/feature-auth/06-learnings.md)
```

### 1.2 å®ä¾‹æ–‡ä»¶ (Instance)
- **ä»»åŠ¡æ¸…å•**: `docs/planning/<è¿­ä»£>/04-ralph-tasks.md`
- **æµ‹è¯•è®¡åˆ’**: `docs/planning/<è¿­ä»£>/05-test-plan.md`
- **ç»éªŒæ—¥è®°**: `docs/planning/<è¿­ä»£>/06-learnings.md`

## 2. Agent æ“ä½œè§„èŒƒ

### 2.1 å¯åŠ¨/æ¢å¤æ—¶
1.  **è¯»å–æŒ‡é’ˆ**: æ‰“å¼€æ ¹ç›®å½• `RALPH_STATE.md`ã€‚
2.  **å¤ä¹ ç»éªŒ**: è¯»å–æŒ‡é’ˆæŒ‡å‘çš„ `06-learnings.md`ï¼Œé¿å…è¸©å‘ã€‚
3.  **åŠ è½½ä»»åŠ¡**: è¯»å–æŒ‡é’ˆæŒ‡å‘çš„ `04-ralph-tasks.md` å’Œ `05-test-plan.md`ã€‚
    - **å¼ºåˆ¶åŒæ­¥å·¥å…·çŠ¶æ€**: è¯»å–ä»»åŠ¡æ–‡ä»¶åï¼Œå¦‚æœä½ çš„ç³»ç»Ÿæ”¯æŒ Todo å·¥å…·ï¼ˆå¦‚ `TodoWrite`ï¼‰ï¼Œä½ **å¿…é¡»**è°ƒç”¨å·¥å…·ï¼Œå°† `04-ralph-tasks.md` ä¸­çš„æœªå®Œæˆé¡¹ï¼ˆ[ ]ï¼‰åŒæ­¥åˆ°ä½ çš„ Todo å·¥å…·ä¸­ã€‚
    - **ç¦æ­¢**: ä¸è¦ä¿ç•™ä»»ä½•ä¸åœ¨ `04-ralph-tasks.md` ä¸­çš„ä¸´æ—¶ä»»åŠ¡ã€‚
4.  **æ¢å¤çŠ¶æ€**: æ£€æŸ¥è¯¥ä»»åŠ¡æ–‡ä»¶ä¸­æœ€åä¸€ä¸ªæ‰“é’©çš„é¡¹ `[x]`ï¼Œä»ä¸‹ä¸€é¡¹å¼€å§‹å·¥ä½œã€‚

### 2.2 åˆ‡æ¢è¿­ä»£æ—¶ (Context Switching)
å½“ç”¨æˆ·æå‡ºæ–°éœ€æ±‚ï¼Œæˆ–è€…å½“å‰è¿­ä»£å…¨éƒ¨å®Œæˆæ—¶ï¼š
1.  **å½’æ¡£æ—§çŠ¶æ€**: ç¡®ä¿å½“å‰ `04-ralph-tasks.md` å’Œ `05-test-plan.md` å…¨éƒ¨æ ‡è®°å®Œæˆã€‚
2.  **ç»§æ‰¿ç»éªŒ**: å°†æ—§è¿­ä»£çš„ `06-learnings.md` å¤åˆ¶åˆ°æ–°è¿­ä»£ç›®å½•ï¼Œä½œä¸ºèµ·ç‚¹ã€‚
3.  **æ›´æ–°æŒ‡é’ˆ**: ä¿®æ”¹ `RALPH_STATE.md` æŒ‡å‘æ–°ç›®å½•ã€‚

### 2.3 æ‰§è¡Œä¸­ (å…³é”®)
> **ä¸¥æ ¼è§„åˆ™**: å¦‚æœæœªèƒ½æ›´æ–°ä»»åŠ¡/æµ‹è¯•æ–‡ä»¶ï¼Œå°†å¯¼è‡´çŠ¶æ€ä¸¢å¤±ã€‚ä½ **å¿…é¡»**æ‰§è¡Œè¿™äº›æ–‡ä»¶æ›´æ–°æ“ä½œã€‚

- **åŸå­æ›´æ–° (Atomic Updates)**: æ¯å®Œæˆä¸€ä¸ªå­ä»»åŠ¡ï¼Œ**ç«‹å³**ä½¿ç”¨å·¥å…·æ›´æ–° `04-ralph-tasks.md` ä¸­çš„å¤é€‰æ¡†ã€‚
  - âŒ é”™è¯¯åšæ³•ï¼šåœ¨å¿ƒé‡Œé»˜è®¤å®ƒå®Œæˆäº†ï¼Œæˆ–è€…åªåœ¨ XML çŠ¶æ€é‡ŒæŠ¥å‘Šï¼Œæˆ–è€…ç­‰åˆ°æœ€åæ‰æ‰¹é‡æ›´æ–°ã€‚
  - âœ… æ­£ç¡®åšæ³•ï¼š**Code -> Verify -> Update Task File**. è°ƒç”¨ `SearchReplace` å°† `- [ ] ç¼–å†™ User æ¨¡å‹` æ”¹ä¸º `- [x] ç¼–å†™ User æ¨¡å‹`ã€‚
- **æµ‹è¯•éªŒæ”¶ (Test Verification)**: æ¯é€šè¿‡ä¸€ä¸ªæµ‹è¯•ç‚¹ï¼Œ**ç«‹å³**ä½¿ç”¨å·¥å…·æ›´æ–° `05-test-plan.md` ä¸­çš„å¤é€‰æ¡†ã€‚
  - **å‰ç½®æ¡ä»¶**: åªæœ‰å½“ `05-test-plan.md` ä¸­çš„ç›¸å…³æµ‹è¯•é¡¹è¢«æ‰“é’©åï¼Œå¯¹åº”çš„åŠŸèƒ½ä»»åŠ¡æ‰èƒ½è¢«æ ‡è®°ä¸ºå®Œæˆã€‚
- **ç»éªŒæ²‰æ·€**: å‘ç°æ–°å‘ï¼Œ**ç«‹å³**æ›´æ–° `06-learnings.md`ã€‚

## 3. æäº¤è§„èŒƒ (Git Integration)
- æäº¤æ—¶åº”åŒ…å«è¿­ä»£å‰ç¼€ã€‚
- ä¾‹å¦‚: `feat(auth): [Step 2] å®ç°ç™»å½•æ¥å£` (å¯¹åº” feature-auth è¿­ä»£)ã€‚
