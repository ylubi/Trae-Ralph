# 测试验收计划 (Test & Acceptance Plan)

<!-- 
AI 指令: 
此文件对应 Ralph 的 "Track B: 交付级验收" 阶段。
1. 何时执行: 仅当 `04-ralph-tasks.md` 中的所有任务完成后，才开始执行此计划。
2. 执行规则: 遵循 `ralph-testing-mode.md` 中的非交互式命令规范。
3. 状态更新: 运行测试后，根据结果更新 [ ] 为 [x]。只有全部 [x] 后，迭代才算完成。
-->

## 测试状态图例
- [ ] 待开始 (Pending)
- [x] 已完成 (Completed)
- [~] 进行中 (In Progress)

## 1. 自动化测试门禁 (Automated Gates)
> **强制规则**: 运行全量测试套件，确保无回归问题。

- [ ] **全量回归 (All Regression)**: 运行 `npm run test:all` (或等效 CI 命令)，确保所有 Unit/Integration 测试通过。
- [ ] **关键路径 E2E**: 运行核心业务流程的端到端测试。

## 2. 关键业务验收 (Key Acceptance Criteria)
> **说明**: 此处列出本迭代必须交付的核心价值点。

- [ ] **Case 1**: [描述关键场景，例如：用户能成功登录并跳转]
- [ ] **Case 2**: [描述关键场景]

## 3. 交互式验收 (Interactive Verification via MCP)
> **说明**: 使用 MCP Chrome DevTools 进行真实环境验证。

- [ ] **视觉/DOM 检查**: 
    - 动作: 打开 `/` 页面，截图保存。
    - 验证: 页面无布局错乱，Console 无报错。
- [ ] **关键交互**: 
    - 动作: 模拟点击 [核心按钮]。
    - 验证: 页面正确响应（跳转或弹窗）。

## 4. 真实服务能力验证 (Real Service Capability)
> **目标**: 拒绝 Demo 级质量，验证生产级可用性。

- [ ] **数据持久化闭环**:
    - 动作: 用户完成核心操作（如保存设置/下单） -> 刷新页面 -> 退出登录 -> 重新登录。
    - 验证: 数据依然准确显示，无丢失或回滚。
- [ ] **错误恢复 (Resilience)**:
    - 动作: 模拟网络断开/接口 500 报错 -> 点击重试。
    - 验证: 系统能优雅提示并恢复，而非白屏或卡死。
- [ ] **完整生命周期**:
    - 动作: 注册新号 -> 完整使用全套流程 -> 注销账号。
    - 验证: 流程无断点，账号注销后数据清理干净。

## 5. 手动/视觉验证 (Manual/Visual Verification)
> **说明**: 仅针对无法自动化的 UI 细节或复杂交互。

- [ ] **视觉检查**: [描述需要截图确认的 UI 细节]
